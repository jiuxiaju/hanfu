{"version":3,"file":"pages/cards/index.js","mappings":";;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack:///./pages/cards/index.ts"],"sourcesContent":["var __MOR_PAGE__ = require('@ali/mor-core').createPage;\n\n\"use strict\";\n__MOR_PAGE__({\n    data: {\n        items: [],\n        loadingMore: false,\n        hasMore: true,\n        page: 1,\n        showBackToTop: false,\n        mergedData: {\n            fieldTranslations: {\n                chaodai: \"朝代\",\n                city: \"城市\",\n                aa: \"年级\",\n                bb: \"属性\",\n                cb: \"班级\",\n                dc: \"段位\",\n                ee: \"属性2\"\n            },\n            tabsData: {\n                chaodai: [\"朝代\"],\n                city: [\"北京\"],\n                aa: [\"一年级\", \"二年级\", \"三年级\"],\n                bb: [\"属性1\", \"属性2\", \"属性3\", \"属性4\", \"属性5\", \"属性6\", \"属性7\", \"属性8\", \"属性9\", \"属性10\", \"属性11\"],\n                // cb: [\"一年级\", \"二年级\", \"三年级\"],\n                // dc: [\"一年级\", \"二年级\", \"三年级\"],\n                // ee: [\"属性1\", \"属性2\", \"属性3\"]\n            }\n        },\n    },\n    onLoad: function () {\n        // 初始化加载\n        this.loadMoreItems();\n    },\n    onPageScroll: function (event) {\n        var _this = this;\n        console.log(\"页面滚动事件\", event);\n        var scrollTop = event.scrollTop;\n        var query = wx.createSelectorQuery();\n        query.select('.content').boundingClientRect(function (rect) {\n            if (rect) {\n                var totalHeight = rect.height;\n                if (scrollTop + wx.getSystemInfoSync().windowHeight >= totalHeight - 50 && !_this.data.loadingMore && _this.data.hasMore) {\n                    _this.loadMoreItems();\n                }\n                // 控制回到顶部按钮的显示\n                if (scrollTop > 300) {\n                    _this.setData({ showBackToTop: true });\n                }\n                else {\n                    _this.setData({ showBackToTop: false });\n                }\n            }\n        }).exec();\n    },\n    loadMoreItems: function () {\n        var _this = this;\n        if (!this.data.hasMore || this.data.loadingMore) {\n            return;\n        }\n        this.setData({ loadingMore: true });\n        // 模拟异步网路请求\n        setTimeout(function () {\n            var newItems = Array.from({ length: 20 }, function (_, i) { return \"Item \" + ((_this.data.page - 1) * 20 + i + 1); });\n            _this.setData({\n                items: _this.data.items.concat(newItems),\n                loadingMore: false,\n                page: _this.data.page + 1,\n                hasMore: newItems.length > 0\n            });\n        }, 1500);\n    },\n    scrollToTop: function () {\n        console.log(\"点击回到顶部\");\n        wx.pageScrollTo({\n            scrollTop: 0,\n            duration: 300\n        });\n    }\n}, \"a\");\n"],"names":[],"sourceRoot":""}