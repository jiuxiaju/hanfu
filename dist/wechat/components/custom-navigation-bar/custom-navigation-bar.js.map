{"version":3,"file":"components/custom-navigation-bar/custom-navigation-bar.js","mappings":";;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack:///./components/custom-navigation-bar/custom-navigation-bar.ts"],"sourcesContent":["var __MOR_API__ = require('@morjs/api').mor;\n\nimport { aComponent } from '@ali/mor-core';\naComponent({\n    data: {\n        titleBarHeight: 0,\n        statusBarHeight: 0,\n        focus: false,\n    },\n    props: {\n        showBackIcon: false,\n        onSearch: function (value) { },\n    },\n    didMount: function () {\n        var systemInfo = __MOR_API__.getSystemInfoSync();\n        var titleBarHeight = this.getTitleBarHeight(systemInfo.statusBarHeight);\n        var statusBarHeight = systemInfo.statusBarHeight;\n        // 设置数据\n        this.setData({\n            titleBarHeight: titleBarHeight,\n            statusBarHeight: statusBarHeight,\n        });\n        // 如果是在搜索页面，则search组件聚焦\n        if (this.$page.route === 'pages/search/search') {\n            this.setData({\n                focus: true,\n            });\n        }\n    },\n    didUpdate: function () { },\n    didUnmount: function () { },\n    methods: {\n        // 计算titleBar的高度，wx无法自动提供\n        getTitleBarHeight: function (statusBarHeight) {\n            try {\n                var _a = wx.getMenuButtonBoundingClientRect(), top = _a.top, height = _a.height;\n                return (top - statusBarHeight) * 2 + height;\n            }\n            catch (error) {\n                return 48;\n            }\n        },\n        onJump2Search: function () {\n            console.log('onJump2Search triggered');\n            if (this.$page.route !== 'pages/search/search') {\n                __MOR_API__.navigateTo({ url: '/pages/search/search' });\n            }\n        },\n        onNavigateBack: function (event) {\n            console.log('onNavigateBack triggered');\n            // 阻止事件冒泡\n            if (event && event.stopPropagation) {\n                event.stopPropagation();\n            }\n            __MOR_API__.navigateBack();\n        },\n        onSearch: function (e) {\n            this.props.onSearch(e.detail.value);\n        },\n    },\n});\n"],"names":[],"sourceRoot":""}